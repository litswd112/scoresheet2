<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BSLTC Padel League Match Results Entry</title>

  <style>
    :root {
      --primary: #1f7a8c;
      --secondary: #022b3a;
      --bg: #f4f7f9;
      --card: #ffffff;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system;
    }

    body {
      margin: 0;
      background: var(--bg);
      padding-bottom: 100px;
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.4rem;
    }

    .container {
      max-width: 900px;
      margin: auto;
      padding: 16px;
    }

    .card {
      background: var(--card);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.06);
    }

    h3 {
      margin-bottom: 10px;
    }

    label {
      display: block;
      margin-top: 10px;
      font-size: 0.9rem;
      font-weight: 600;
    }

    select, input {
      width: 100%;
      padding: 10px;
      margin-top: 4px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }

    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 14px;
      border-radius: 14px;
      font-size: 1.1rem;
      cursor: pointer;
      width: 100%;
    }

    .btn.secondary {
      background: #ddd;
      color: #333;
    }

    .sticky-submit {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      padding: 12px;
      box-shadow: 0 -5px 20px rgba(0,0,0,0.15);
    }

    @media (min-width: 768px) {
      .sticky-submit { position: static; box-shadow: none; padding: 0; }
    }
  </style>
</head>

<body>

<header>ðŸŽ¾ BSLTC Padel League Match Results Entry</header>

<form id="matchForm">
<div class="container">
<!-- Match Details -->
<div class="card">
  <h3>Match Details</h3>

  <label>League</label>
  <select id="league">
    <option value="">Select league</option>
    <option value="Premier League">Premier League</option>
    <option value="Division 1">Division 1</option>
    <option value="Division 2">Division 2</option>
    <option value="Division 3">Division 3</option>
    <option value="Division 4">Division 4</option>
    <option value="Division 5">Division 5</option>
    <option value="Division 6">Division 6</option>
  </select>

  <div id="matchTypeWrapper" style="display:none;">
    <label>Match Type</label>
    <select id="matchType">
      <option value="Standard Match Day">Standard Match Day</option>
      <option value="Semi Final">Semi Final</option>
      <option value="Final">Final</option>
    </select>
  </div>
</div>
  
  <!-- Add Player -->
  <div class="card">
    <h3>Add New Player</h3>
    <div class="grid-2">
      <input type="text" id="newPlayer" placeholder="Player name">
      <button type="button" class="btn secondary" onclick="addPlayer()">Add</button>
    </div>
  </div>

  <!-- Teams -->
  <div class="card">
    <h3>Team A</h3>
    <select class="player"></select>
    <select class="player"></select>
  </div>

  <div class="card">
    <h3>Team B</h3>
    <select class="player"></select>
    <select class="player"></select>
  </div>

  <!-- Set 1 -->
  <div class="card">
    <h3>Set 1</h3>
    <label>Team A Games</label>
    <select id="s1a" class="score7"></select>

    <label>Team B Games</label>
    <select id="s1b" class="score7"></select>

    <label>Team A Tie Break</label>
    <select id="s1tba" class="score20"></select>

    <label>Team B Tie Break</label>
    <select id="s1tbb" class="score20"></select>
  </div>

  <!-- Set 2 -->
  <div class="card">
    <h3>Set 2</h3>
    <label>Team A Games</label>
    <select id="s2a" class="score7"></select>

    <label>Team B Games</label>
    <select id="s2b" class="score7"></select>

    <label>Team A Tie Break</label>
    <select id="s2tba" class="score20"></select>

    <label>Team B Tie Break</label>
    <select id="s2tbb" class="score20"></select>
  </div>

  <!-- Championship TB -->
  <div class="card">
    <h3>Championship Tie Break</h3>
    <label>Team A</label>
    <select id="s3a" class="score20"></select>

    <label>Team B</label>
    <select id="s3b" class="score20"></select>
  </div>

  <!-- Killer Points -->
  <div class="card">
    <h3>Killer Points</h3>
    <label>Team A</label>
    <select id="killerA" class="score20"></select>

    <label>Team B</label>
    <select id="killerB" class="score20"></select>
  </div>

</div>

<div class="sticky-submit">
  <button class="btn" type="submit" id="submitBtn">Submit Match</button>
  <button class="btn secondary" type="button" id="resetBtn" style="display:none;">
    Enter Another Match
  </button>
</div>

<script>
let players = [
  "Substitute Played",
  "Adrian Muica",
  "Alessandro Di Leo",
  "Alfred Kennard",
  "Andrew Gibbs",
  "Andrew Judd",
  "Andy Hannah",
  "Antonios X",
  "Barrie Chase",
  "Ben Oakes",
  "Bernard Van Zyl",
  "Bertie Wildman",
  "Bev Bray",
  "Callum Moss",
  "Callum Slater",
  "Carl Basson",
  "Colin Burnet",
  "Damian Guitton",
  "Dan Bowler",
  "Danny Ashe",
  "David Caddamy-Moat",
  "Debbie Basson",
  "Derek Purvis",
  "Des McConnell",
  "Elisa Aloisi",
  "Fabio Di Primio",
  "Francois Fracella",
  "Fred Cooke",
  "Gary Fernandes",
  "Gary Treadwell",
  "Gaynor Banninster",
  "George Cowman",
  "Giuseppe Sanfilippo",
  "Glenn McClelland",
  "Graeme Nott",
  "Graham Francis",
  "Hamraz K",
  "Harry Melluish",
  "Ian Jack",
  "James Bird",
  "James Hayter",
  "James Issako",
  "Jamie Broughton",
  "Jamie Bull",
  "Jane Pickard",
  "Jason Piggott",
  "Jemma Benstead",
  "John Connolly",
  "Johnathan Alveraz",
  "Jolie May",
  "Jon Broughton",
  "Jordan Baker",
  "Josh Steffen",
  "Karen Ainsworth",
  "Kath McConnell",
  "Kemal Nafi",
  "Lee Crisp",
  "Lorenzo Zarrilli",
  "Louise Jack",
  "Luke Hayes",
  "Margaret Power",
  "Mario Panayiotou",
  "Mark Ashwell",
  "Mark Banninster",
  "Mark Curtis",
  "Mark Hoddle",
  "Mark Slater",
  "Mark Smith",
  "Mark Sullivan",
  "Martin King",
  "Martin Gill",
  "Mary Davidson",
  "Matt Hardy",
  "Matt Holland",
  "Michael Hunter",
  "Miles McClinton",
  "Nick Ridgway",
  "Nii Thompson",
  "Norman Cleary",
  "Paco Reyes",
  "Paul Benfield",
  "Paul Delaney",
  "Pete Harris",
  "Peter Aylott",
  "Raul Urs",
  "Rebecca Crisp",
  "Richard Booth",
  "Richard Millns",
  "Richard O'Hara",
  "Rob Bunting",
  "Rob Kemp",
  "Russell Way",
  "Sam Gardiner",
  "Sarah Kenworthy",
  "Simon Layer",
  "Simon Playfair",
  "Simon Sale",
  "Stacy Thompson",
  "Stefan Masheder",
  "Steff Burkwood",
  "Stephen Aravela",
  "Steve Beel",
  "Steve Hogg",
  "Sue Cryer",
  "Tom Kirrage",
  "Tom Trueman",
  "Tom White",
  "Zara Thompson",
  "Zoe Burnet"
];

// ---------------- POPULATE DROPDOWNS ----------------

function populatePlayers() {
  document.querySelectorAll(".player").forEach(sel => {
    sel.innerHTML = "";
    players.forEach(p => sel.add(new Option(p, p)));
  });
}

function populateScores() {
  document.querySelectorAll(".score7").forEach(sel => {
    sel.innerHTML = "";
    sel.add(new Option("â€“", ""));
    for (let i = 0; i <= 7; i++) sel.add(new Option(i, i));
  });

  document.querySelectorAll(".score20").forEach(sel => {
    sel.innerHTML = "";
    sel.add(new Option("â€“", ""));
    for (let i = 0; i <= 20; i++) sel.add(new Option(i, i));
  });
}

// ---------------- ADD PLAYER ----------------

function addPlayer() {
  const input = document.getElementById("newPlayer");
  if (input.value.trim()) {
    players.push(input.value.trim());
    populatePlayers();
    input.value = "";
  }
}

// ---------------- LOCK / UNLOCK ----------------

function lockForm() {
  document.querySelectorAll("select, input, button").forEach(el => {
    if (el.id !== "resetBtn") el.disabled = true;
  });
  document.getElementById("submitBtn").innerText = "âœ“ Submitted";
  document.getElementById("resetBtn").style.display = "block";
}

function unlockForm() {
  document.querySelectorAll("select, input, button").forEach(el => el.disabled = false);
  document.getElementById("submitBtn").innerText = "Submit Match";
  document.getElementById("resetBtn").style.display = "none";
  document.getElementById("matchForm").reset();
}
const leagueSelect = document.getElementById("league");
const matchTypeWrapper = document.getElementById("matchTypeWrapper");
const matchTypeSelect = document.getElementById("matchType");

leagueSelect.addEventListener("change", () => {
  if (leagueSelect.value === "Premier League") {
    matchTypeWrapper.style.display = "block";
    matchTypeSelect.value = "Standard Match Day";
  } else {
    matchTypeWrapper.style.display = "none";
    matchTypeSelect.value = "Standard Match Day";
  }
});
  
// ---------------- SUBMIT ----------------

document.getElementById("matchForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const p = document.querySelectorAll(".player");
  const val = id => document.getElementById(id).value || "";

  const payload = {
  league: document.getElementById("league").value,
  matchType: document.getElementById("matchType").value || "Standard Match Day",

  players: [p[0].value, p[1].value, p[2].value, p[3].value],
  killerA: val("killerA"),
  killerB: val("killerB"),
  s1: [val("s1a"), val("s1b"), val("s1tba"), val("s1tbb")],
  s2: [val("s2a"), val("s2b"), val("s2tba"), val("s2tbb")],
  s3: [val("s3a"), val("s3b")]
};

  fetch("https://script.google.com/macros/s/AKfycbxjz--3DwiXuBIDVZNcDl-CtlHbWdUFPqqu2DMWyMbdBobAkMTCzDve4KXvzh227m51/exec", {
    method: "POST",
    mode: "no-cors",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  }).then(() => {
    alert("Match submitted successfully");
    lockForm();
  });
});

// ---------------- RESET BUTTON ----------------

document.getElementById("resetBtn").addEventListener("click", unlockForm);

// ---------------- INIT (THIS WAS THE BUG) ----------------

populatePlayers();
populateScores();
</script>


</body>
</html>

















