<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Padel Match Entry</title>

  <style>
    :root {
      --primary: #1f7a8c;
      --secondary: #022b3a;
      --bg: #f4f7f9;
      --card: #ffffff;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system;
    }

    body {
      margin: 0;
      background: var(--bg);
      padding-bottom: 100px;
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.4rem;
    }

    .container {
      max-width: 900px;
      margin: auto;
      padding: 16px;
    }

    .card {
      background: var(--card);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.06);
    }

    label {
      display: block;
      margin-top: 10px;
      font-size: 0.9rem;
    }

    select, input {
      width: 100%;
      padding: 10px;
      margin-top: 4px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }

    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 14px;
      border-radius: 14px;
      font-size: 1.1rem;
      cursor: pointer;
      width: 100%;
    }

    .btn.secondary {
      background: #ddd;
      color: #333;
    }

    .sticky-submit {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      padding: 12px;
      box-shadow: 0 -5px 20px rgba(0,0,0,0.15);
    }

    @media (min-width: 768px) {
      .sticky-submit { position: static; box-shadow: none; padding: 0; }
    }
  </style>
</head>

<body>

<header>ðŸŽ¾ Padel Match Entry</header>

<form id="matchForm">
<div class="container">

  <div class="card">
    <h3>Add New Player</h3>
    <div class="grid-2">
      <input type="text" id="newPlayer" placeholder="Player name">
      <button type="button" class="btn secondary" onclick="addPlayer()">Add</button>
    </div>
  </div>

  <div class="card">
    <h2>Team A</h2>
    <select class="player"></select>
    <select class="player"></select>
    <label>Killer Points</label>
    <select id="killerA" class="score20"></select>
  </div>

  <div class="card">
    <h2>Team B</h2>
    <select class="player"></select>
    <select class="player"></select>
    <label>Killer Points</label>
    <select id="killerB" class="score20"></select>
  </div>

  <div class="card">
    <h3>Set 1</h3>
    <div class="grid-4">
      <select id="s1a" class="score7"></select>
      <select id="s1b" class="score7"></select>
      <input id="s1tba" placeholder="TB A">
      <input id="s1tbb" placeholder="TB B">
    </div>
  </div>

  <div class="card">
    <h3>Set 2</h3>
    <div class="grid-4">
      <select id="s2a" class="score7"></select>
      <select id="s2b" class="score7"></select>
      <input id="s2tba" placeholder="TB A">
      <input id="s2tbb" placeholder="TB B">
    </div>
  </div>

  <div class="card">
    <h3>Championship Tie Break</h3>
    <div class="grid-2">
      <select id="s3a" class="score20"></select>
      <select id="s3b" class="score20"></select>
    </div>
  </div>

</div>

<div class="sticky-submit">
  <button class="btn" type="submit">Submit Match</button>
</div>
</form>

<script>
  let players = [
  "Substitute Played",
  "Adrian Muica",
  "Alessandro Di Leo",
  "Alfred Kennard",
  "Andrew Gibbs",
  "Andrew Judd",
  "Andy Hannah",
  "Antonios X",
  "Barrie Chase",
  "Ben Oakes",
  "Bernard Van Zyl",
  "Bertie Wildman",
  "Bev Bray",
  "Callum Moss",
  "Callum Slater",
  "Carl Basson",
  "Colin Burnet",
  "Damian Guitton",
  "Dan Bowler",
  "Danny Ashe",
  "David Caddamy-Moat",
  "Debbie Basson",
  "Derek Purvis",
  "Des McConnell",
  "Elisa Aloisi",
  "Fabio Di Primio",
  "Francois Fracella",
  "Fred Cooke",
  "Gary Fernandes",
  "Gary Treadwell",
  "Gaynor Banninster",
  "George Cowman",
  "Giuseppe Sanfilippo",
  "Glenn McClelland",
  "Graeme Nott",
  "Graham Francis",
  "Hamraz K",
  "Harry Melluish",
  "Ian Jack",
  "James Bird",
  "James Hayter",
  "James Issako",
  "Jamie Broughton",
  "Jamie Bull",
  "Jane Pickard",
  "Jason Piggott",
  "Jemma Benstead",
  "John Connolly",
  "Johnathan Alveraz",
  "Jolie May",
  "Jon Broughton",
  "Jordan Baker",
  "Josh Steffen",
  "Karen Ainsworth",
  "Kath McConnell",
  "Kemal Nafi",
  "Lee Crisp",
  "Lorenzo Zarrilli",
  "Louise Jack",
  "Luke Hayes",
  "Margaret Power",
  "Mario Panayiotou",
  "Mark Ashwell",
  "Mark Banninster",
  "Mark Curtis",
  "Mark Hoddle",
  "Mark Slater",
  "Mark Smith",
  "Mark Sullivan",
  "Martin King",
  "Martin Gill",
  "Mary Davidson",
  "Matt Hardy",
  "Matt Holland",
  "Michael Hunter",
  "Miles McClinton",
  "Nick Ridgway",
  "Nii Thompson",
  "Norman Cleary",
  "Paco Reyes",
  "Paul Benfield",
  "Paul Delaney",
  "Pete Harris",
  "Peter Aylott",
  "Raul Urs",
  "Rebecca Crisp",
  "Richard Booth",
  "Richard Millns",
  "Richard O'Hara",
  "Rob Bunting",
  "Rob Kemp",
  "Russell Way",
  "Sam Gardiner",
  "Sarah Kenworthy",
  "Simon Layer",
  "Simon Playfair",
  "Simon Sale",
  "Stacy Thompson",
  "Stefan Masheder",
  "Steff Burkwood",
  "Stephen Aravela",
  "Steve Beel",
  "Steve Hogg",
  "Sue Cryer",
  "Tom Kirrage",
  "Tom Trueman",
  "Tom White",
  "Zara Thompson",
  "Zoe Burnet"
];

  function populatePlayers() {
    document.querySelectorAll(".player").forEach(sel => {
      sel.innerHTML = "";
      players.forEach(p => sel.appendChild(new Option(p, p)));
    });
  }

  function populateScores() {
    document.querySelectorAll(".score7").forEach(sel => {
      for (let i = 0; i <= 7; i++) sel.appendChild(new Option(i, i));
    });
    document.querySelectorAll(".score20").forEach(sel => {
      for (let i = 0; i <= 20; i++) sel.appendChild(new Option(i, i));
    });
  }

  function addPlayer() {
    const input = document.getElementById("newPlayer");
    if (!input.value.trim()) return;
    players.push(input.value.trim());
    populatePlayers();
    input.value = "";
  }

  document.getElementById("matchForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const data = {
      players: [...document.querySelectorAll(".player")].map(p => p.value),
      killerA: killerA.value,
      killerB: killerB.value,
      s1: [s1a.value, s1b.value, s1tba.value, s1tbb.value],
      s2: [s2a.value, s2b.value, s2tba.value, s2tbb.value],
      s3: [s3a.value, s3b.value]
    };

    fetch("https://script.google.com/macros/s/AKfycbxl32yg7Qg6Yqnhgc97OC8PVUieAgh8HgjNwsnY-eJEB7oJwevv3D9h-K_aKNvlrCIs8A/exec", {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    }).then(() => alert("Match submitted"));
  });

  populatePlayers();
  populateScores();
</script>

</body>
</html>
